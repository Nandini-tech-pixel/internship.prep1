import pandas as pd
from prophet import Prophet  
df = pd.read_csv('example_wp_log_peyton_manning.csv')
df.columns = ['ds', 'y']
model = Prophet()
model.fit(df)
future = model.make_future_dataframe(periods=365)
forecast = model.predict(future)
model.plot(forecast)
model.plot_components(forecast)

#Ans1
import pandas as pd
from prophet import Prophet
from prophet.plot import add_changepoints_to_plot, plot_plotly
import matplotlib.pyplot as plt
df = pd.read_csv ('example_wp_log_peyton_manning.csv')
from prophet.make_holidays import make_holidays_df
holidays = make_holidays_df(year_list=range(2007, 2017), country_name='US')
extra_holidays = pd.DataFrame({
    'holiday': ['superbowl', 'superbowl', 'superbowl',
                'playoffs', 'playoffs', 'playoffs'],
    'ds': pd.to_datetime(['2008-02-03', '2009-02-01', '2010-02-07',
                          '2008-01-13', '2009-01-11', '2010-01-16']),
    'lower_window': 0,
    'upper_window': 1,
})
all_holidays = pd.concat([holidays, extra_holidays], ignore_index=True)
model = Prophet(holidays=all_holidays, yearly_seasonality=True, weekly_seasonality=True)
model.fit(df)
future = model.make_future_dataframe(periods=365)
forecast = model.predict(future)
fig = model.plot(forecast)
add_changepoints_to_plot(fig.gca(), model, forecast)
fig2 = model.plot_components(forecast)
plt.show()
